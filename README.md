## Who am I

I am a RESTful web service for Person(s)
I am created using Spring Boot and backed by an in memory H2 database which I work with via JPA

## Who is a Person

A Person has

* first name
* last name
* email
* and an autogenerated ID

## What I can do

My users are able to search for Person records by ID or email.

## How I do it

I am REST web service on top of HTTP, hence I can be easily used via any HTTP client, such as `curl` for example:

### home

```bash
$ curl -i localhost:8080

HTTP/1.1 200
Content-Type: text/plain;charset=UTF-8
Content-Length: 102
Date: Fri, 28 Sep 2018 19:16:58 GMT

hi, I am a very "person"al web service. My users are able to search for Person records by ID or email.
$
```

### find all personal records

```
$ curl -i localhost:8080/persons

HTTP/1.1 404
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:17:00 GMT

{"timestamp":"2018-09-28T19:17:00.965+0000","status":404,"error":"Not Found","message":"no personal records are found","path":"/persons"}
$
```

no persons were found since we are using an in memory database, and we need to populate it first, so let's do it.

### add personal records

```bash
$ curl -i -X POST localhost:8080/person
       -H "Content-Type: application/json"
       -d '{"firstName": "Paul", "lastName": "McCartney", "email": "paul@heyjude.com"}'

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:17:22 GMT

{"id":1,"firstName":"Paul","lastName":"McCartney","email":"paul@heyjude.com"}
```

```bash
$ curl -i -X POST localhost:8080/person
       -H "Content-Type: application/json"
       -d '{"firstName": "John", "lastName": "Lennon", "email": "john@cometogether.org"}'

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:17:36 GMT

{"id":2,"firstName":"John","lastName":"Lennon","email":"john@cometogether.org"}
```

```bash
$ curl -i -X POST localhost:8080/person
       -H "Content-Type: application/json"
       -d '{"firstName": "Ringo", "lastName": "Starr", "email": "ringo@abby.road"}'

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:17:47 GMT

{"id":3,"firstName":"Ringo","lastName":"Starr","email":"ringo@abby.road"}
```

now let's look at all the personal records:

```bash
$ curl -i localhost:8080/persons

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:17:51 GMT
```

```json
[{"id":1,
  "firstName":"Paul",
  "lastName":"McCartney",
  "email":"paul@heyjude.com"},
 {"id":2,
  "firstName":"John",
  "lastName":"Lennon",
  "email":"john@cometogether.org"},
 {"id":3,
  "firstName":"Ringo",
  "lastName":"Starr",
  "email":"ringo@abby.road"}]
```

### update personal records

```bash
$ curl -i -X PUT localhost:8080/person/1
       -H "Content-Type: application/json"
       -d '{"firstName": "Sir Paul", "lastName": "McCartney", "email": "paul@heyjude.com"}'

HTTP/1.1 200
Content-Length: 0
Date: Fri, 28 Sep 2018 19:19:36 GMT
```

and Paul is now `Sir` Paul:

```bash
$ curl -i localhost:8080/person/1

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:29:01 GMT

{"id":1,"firstName":"Sir Paul","lastName":"McCartney","email":"paul@heyjude.com"}
```

### delete personal records

```bash
$ curl -i -X DELETE localhost:8080/person/3

HTTP/1.1 200
Content-Length: 0
Date: Fri, 28 Sep 2018 19:20:08 GMT
```

Ringo left the building:

```bash
$ curl -i localhost:8080/persons

HTTP/1.1 200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Date: Fri, 28 Sep 2018 19:20:11 GMT

[{"id":1,"firstName":"Sir Paul","lastName":"McCartney","email":"paul@heyjude.com"},{"id":2,"firstName":"John","lastName":"Lennon","email":"john@cometogether.org"}]%
```
